# Trivia Quiz Game (Step 6: AI-Enhanced)

## Overview

The **Trivia Quiz Game (Step 6)** is an interactive, AI-enhanced game built in [Jac](https://jac-lang.org), a programming language designed for scalable and modular applications. Players answer trivia questions, and for incorrect answers, the game provides engaging, context-aware feedback generated by an AI model (Gemini 2.0 Flash via MTLLM). The game leverages Jac’s scale-agnostic design, allowing it to run locally or as cloud API endpoints without code changes.

The game uses Jac’s walker-node architecture, where a `TriviaQuiz` walker processes player answers, and a `question` node stores trivia questions and correct answers. The AI integration enhances user experience by providing dynamic hints or explanations for incorrect answers, making the game more engaging and educational.

## Features

- Randomly selects trivia questions from a predefined set (e.g., “What is the capital of France?”).
- Provides feedback:
  - Correct answers: “Correct! Well done.”
  - Incorrect answers: AI-generated hints/explanations (e.g., “Jupiter’s a gas giant, but the Red Planet is Mars due to its rusty hue!”).
- Scale-agnostic: Runs locally or as cloud API endpoints via `jac serve`.
- Uses MTLLM with Gemini 2.0 Flash for intelligent feedback generation.

## Files

- `trivia_quiz6.jac`: Defines the game structure (walker, node, MTLLM integration, and CLI execution).
- `trivia_quiz6.impl.jac`: Implements the `start` and `process_answer` abilities, including AI feedback for incorrect answers.

## Setup

### Prerequisites
- Install [Jac](https://jac-lang.org/installation) to run the game.
- Ensure access to the MTLLM library and a compatible LLM (e.g., Gemini 2.0 Flash). API keys or configuration may be required for MTLLM, depending on your setup.
- Python (for random number generation and MTLLM dependencies).

### Installation
1. Clone or download the repository containing the game files:
   - `trivia_quiz6.jac`
   - `trivia_quiz6.impl.jac`
2. Install Jac:
   ```bash
   pip install jaclang
   ```
3. Configure MTLLM for Gemini 2.0 Flash (refer to [MTLLM documentation](https://jac-lang.org/docs/mtllm) for setup).

## Usage

### Run Locally
```bash
jac run trivia_quiz6.jac
```
- Executes the game in CLI mode, testing predefined answers: “Paris”, “Jupiter”, “4”, and “Florida”.
- Example output:
  - “Paris” (for “What is the capital of France?”) → “Correct! Well done.”
  - “Jupiter” (for “Which planet is known as the Red Planet?”) → “Jupiter’s massive, but the Red Planet is Mars due to its iron-rich surface!”
  - “4” (for “What is 2 + 2?”) → “Correct! Well done.”
  - “Florida” (for any question) → “Florida’s sunny, but France’s capital is known for the Eiffel Tower!”

### Deploy to Cloud
```bash
jac serve trivia_quiz6.jac
```
- Converts `start` and `process_answer` into HTTP API endpoints.
- Access via tools like `curl` or a web client to submit answers and receive AI-enhanced feedback.

## Code Explanation

### trivia_quiz6.jac
- **Walker (`TriviaQuiz`)**: Stores the player’s answer (`answer: str`).
- **Node (`question`)**:
  - `question_text`: Randomly chosen from a set (e.g., “What is the capital of France?”).
  - `correct_answer`: Set via a `switch` statement (e.g., “Paris” for the France question).
- **MTLLM Integration**:
  - Initializes a global `llm` with `gemini/gemini-2.0-flash` (verbose=False).
  - Defines `give_feedback(answer: str, correct_answer: str, question_text: str) -> str by llm()` to generate AI-driven feedback for incorrect answers.
- **CLI Execution**: Spawns `TriviaQuiz` walkers with answers “Paris”, “Jupiter”, “4”, and “Florida” for testing.

### trivia_quiz6.impl.jac
- **start**:
  - Checks if the `root` node is connected to a `question` node.
  - If not, creates a new `question` node (`root ++> question()`).
  - If connected, navigates to the existing `question` node.
  - Moves the walker to the `question` node using `visit next`.
- **process_answer**:
  - Checks for outgoing edges (`[-->]`) to continue traversal.
  - If no outgoing edges:
    - Compares `self.answer` to `here.correct_answer`.
    - If correct, prints “Correct! Well done.” and stops (`disengage`).
    - If incorrect, calls `give_feedback` to generate an AI response (e.g., “Jupiter’s not red, but Mars is!”) and creates a new `question` node for another attempt.

## Scale-Agnostic Design
- The code runs locally (`jac run`) or as cloud APIs (`jac serve`).
- The `TriviaQuiz` walker’s abilities (`start`, `process_answer`) become HTTP endpoints in cloud mode, enabling scalable deployment without code changes.

## AI Integration
- Uses MTLLM with Gemini 2.0 Flash to generate dynamic feedback.
- Example: For “Jupiter” (incorrect for “Which planet is known as the Red Planet?”), the LLM might return: “Jupiter’s a gas giant, but Mars gets its red hue from iron oxide. Try again!”
- The `give_feedback` function leverages the question context, player’s answer, and correct answer for rich, engaging responses.

## Potential Enhancements
- Add a scoring system to track correct answers.
- Expand the question bank or categorize by difficulty.
- Use MTLLM for correct answers (e.g., fun facts like “Correct! Paris is also the City of Light!”).
- Limit attempts per question for added challenge.

## Notes
- The question bank is small for simplicity. In production, consider a larger, dynamic set.
- MTLLM configuration (e.g., API keys) depends on your environment. Check [x.ai/api](https://x.ai/api) for API access details.
- For pricing on SuperGrok or X premium plans, visit [x.ai/grok](https://x.ai/grok) or [help.x.com/en/using-x/x-premium](https://help.x.com/en/using-x/x-premium).

## License
MIT License. Feel free to modify and distribute.
